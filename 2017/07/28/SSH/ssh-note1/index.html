
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  
    <title>SSH介绍 | lvshifu</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="lvshifu">
    

    
    <meta name="description" content="SSH是什么SSH框架一般指的是Struts、Spring、Hibernate，后来Struts2代替了Struts。 SSM框架一般指的是Spring MVC、Spring、MyBatis。">
<meta name="keywords" content="SSH">
<meta property="og:type" content="article">
<meta property="og:title" content="SSH介绍">
<meta property="og:url" content="https://lvshifu.github.io/2017/07/28/SSH/ssh-note1/index.html">
<meta property="og:site_name" content="lvshifu">
<meta property="og:description" content="SSH是什么SSH框架一般指的是Struts、Spring、Hibernate，后来Struts2代替了Struts。 SSM框架一般指的是Spring MVC、Spring、MyBatis。">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2017-10-01T05:45:00.325Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="SSH介绍">
<meta name="twitter:description" content="SSH是什么SSH框架一般指的是Struts、Spring、Hibernate，后来Struts2代替了Struts。 SSM框架一般指的是Spring MVC、Spring、MyBatis。">

    
    <link rel="alternative" href="/atom.xml" title="lvshifu" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/smile.png">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css">
</head>

  <body>
    <header>
      
<div>
		
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="lvshifu">lvshifu</a></h1>
				<h2 class="blog-motto"></h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">主页</a></li>
					
						<li><a href="/archives">归档</a></li>
					
						<li><a href="/tags">标签</a></li>
					
						<li><a href="/about">关于</a></li>
					
					<li>
 					
					<form class="search" action="/search/index.html" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" autocomplete="off" name="q" maxlength="20" placeholder="搜索" />
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
  
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/07/28/SSH/ssh-note1/" title="SSH介绍" itemprop="url">SSH介绍</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="lvshifu" target="_blank" itemprop="author">lvshifu</a>
		
  <p class="article-time">
    <time datetime="2017-07-28T07:18:02.000Z" itemprop="datePublished"> 发表于 2017-07-28</time>
    
  </p>
</header>
	<div class="article-content">
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">文章目录</strong>
		
			<ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#SSH是什么"><span class="toc-number">1.</span> <span class="toc-text">SSH是什么</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#标准SSH框架"><span class="toc-number">2.</span> <span class="toc-text">标准SSH框架</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Struts"><span class="toc-number">2.1.</span> <span class="toc-text">Struts</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Spring"><span class="toc-number">2.2.</span> <span class="toc-text">Spring</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Hibernate"><span class="toc-number">2.3.</span> <span class="toc-text">Hibernate</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SSH深入理解"><span class="toc-number">2.4.</span> <span class="toc-text">SSH深入理解</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#公司框架发展"><span class="toc-number">2.5.</span> <span class="toc-text">公司框架发展</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#海事框架"><span class="toc-number">3.</span> <span class="toc-text">海事框架</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2013框架"><span class="toc-number">4.</span> <span class="toc-text">2013框架</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#海事框架-和-2013框架比较"><span class="toc-number">5.</span> <span class="toc-text">海事框架 和 2013框架比较</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#配置（struts-xml）"><span class="toc-number">5.1.</span> <span class="toc-text">配置（struts.xml）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#海事框架-1"><span class="toc-number">5.1.1.</span> <span class="toc-text">海事框架</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2013采用免配置方案"><span class="toc-number">5.1.2.</span> <span class="toc-text">2013采用免配置方案</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#默认路由"><span class="toc-number">5.2.</span> <span class="toc-text">默认路由</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#分层"><span class="toc-number">5.3.</span> <span class="toc-text">分层</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#海事框架-2"><span class="toc-number">5.3.1.</span> <span class="toc-text">海事框架</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2013框架-1"><span class="toc-number">5.3.2.</span> <span class="toc-text">2013框架</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ORM（Hibernate-VS-JPA）"><span class="toc-number">5.4.</span> <span class="toc-text">ORM（Hibernate VS JPA）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#海事框架采用Hibernate"><span class="toc-number">5.4.1.</span> <span class="toc-text">海事框架采用Hibernate</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2013框架采用HibernateJPA"><span class="toc-number">5.4.2.</span> <span class="toc-text">2013框架采用HibernateJPA</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#事务"><span class="toc-number">5.5.</span> <span class="toc-text">事务</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2013框架特色"><span class="toc-number">6.</span> <span class="toc-text">2013框架特色</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#页面参数"><span class="toc-number">6.1.</span> <span class="toc-text">页面参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Spring-security集成"><span class="toc-number">6.2.</span> <span class="toc-text">Spring security集成</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Sitemesh应用"><span class="toc-number">6.3.</span> <span class="toc-text">Sitemesh应用</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#使用2013框架建立项目步骤"><span class="toc-number">7.</span> <span class="toc-text">使用2013框架建立项目步骤</span></a></li></ol>
		
		</div>
		
		<h1 id="SSH是什么"><a href="#SSH是什么" class="headerlink" title="SSH是什么"></a>SSH是什么</h1><p>SSH框架一般指的是Struts、Spring、Hibernate，后来Struts2代替了Struts。</p>
<p>SSM框架一般指的是Spring MVC、Spring、MyBatis。</p>
<a id="more"></a>
<h1 id="标准SSH框架"><a href="#标准SSH框架" class="headerlink" title="标准SSH框架"></a>标准SSH框架</h1><h2 id="Struts"><a href="#Struts" class="headerlink" title="Struts"></a>Struts</h2><p>Struts1(2000年~2008年12月)，最后一个正式版（1.3.10）。<br>2013年4月5日，Struts开发组宣布终止了Struts 1的软件开发周期。</p>
<p>Struts2(2007年2月~)<br>Struts2并不是Struts1的升级版，而是由WebWork 2.2变化而来。</p>
<h2 id="Spring"><a href="#Spring" class="headerlink" title="Spring"></a>Spring</h2><ul>
<li>2002年10月 Rod Johnson 主要针对J2EE的繁琐问题发表了《Expert One-on-One J2EE Designand Development》，本书包含3万行代码。这些代码被称为Interface 21 Framework；Juergen Hoeller和Yann Caroff联系Rod Johnson 将代码开源，并由Yann Caroff提出Spring这个词。</li>
<li>2003年6月 Spring 0.9在Apache 2.0协议下发布，Juergen和Yann成为Interface 21的创始人，Interface 21也支持AspectJ Project，Thomas Risberg负责Spring JDBC，Ben Alex将Acegi Security的代码送给Rod和Juergen。</li>
<li>2004年3月 Spring Framework 1.0问世。</li>
<li>2005年 Spring Framework达40万下载量。</li>
<li>2006年8月 Spring 2.0发布，Spring超过100万次下载。</li>
<li>2007年9月 Spring 2.5发布。</li>
<li>2008年 Interface 21改名为Spring Source，Spring超过300万次下载。</li>
<li>2008年 SpringSource买下G2One公司（Groovy and Grails）。</li>
<li>2009年8月 VMWare 收购了SpringSource。</li>
<li>2009年12月 Spring 3.0发布。</li>
<li>2013年4月 VMware与EMC及通用电气建立了合资公司GoPivotal，Spring移到了Pivotal。年底Spring 4.0发布。</li>
<li>2014年9月 Spring4.1发布。</li>
<li>2015年7月 Spring4.2发布。</li>
<li>2016年6月 Spring4.3发布。</li>
</ul>
<p>JDK 8+ for Spring Framework 5.x(SNAPSHOT)<br>JDK 6+ for Spring Framework 4.x<br>JDK 5+ for Spring Framework 3.x<br>JDK 1.4+ for Spring Framework 2.5<br>JDK 1.3+ for Spring Framework 2.0</p>
<p><a href="https://github.com/spring-projects/spring-framework/wiki/What%27s-New-in-the-Spring-Framework" target="_blank" rel="external">What’s New in the Spring Framework</a></p>
<p><a href="http://repo.spring.io/release/org/springframework/spring/" target="_blank" rel="external">Spring 各版本下载</a></p>
<p>下面的Spring docs可以查看Spring所有版本的RELEASE NOTE。<br><a href="https://docs.spring.io/spring/docs/" target="_blank" rel="external">Spring docs</a></p>
<p>Spring核心功能：</p>
<p>IoC(Inversion of Control)控制反转<br>DI(Dependency Injection)依赖注入<br>AOP(aspect-oriented programming)面向切面编程</p>
<p>Spring 1.x 通过XML配置文件实现解耦<br>Spring 2.0 初步引入注解配置<br>Spring 2.5 @Autowired, 增加了component-scan, 大大减少了配置工作量<br>Spring 3.x 开始支持JavaConfig</p>
<p>Spring3.0以后不再提供一个大的完整的jar包，而是分成多个小的jar包</p>
<h2 id="Hibernate"><a href="#Hibernate" class="headerlink" title="Hibernate"></a>Hibernate</h2><pre><code>2001年，澳大利亚墨尔本一位名为Gavin King的27岁的程序员，上街买了一本SQL编程的书，他厌倦了实体bean，认为自己可以开发出一个符合对象关系映射理论，并且真正好用的Java持久化层框架，因此他需要先学习一下SQL。这一年的11月，Hibernate的第一个版本发布了。
2002年，已经有人开始关注和使用Hibernate了。
2003年9月，Hibernate开发团队进入JBoss公司，开始全职开发Hibernate，从这个时候开始Hibernate得到了突飞猛进的普及和发展。
2004年，整个Java社区开始从实体bean向Hibernate转移，特别是在Rod Johnson的著作《Expert One-on-One J2EE Development without EJB》出版后，由于这本书以扎实的理论、充分的论据和详实的论述否定了EJB，提出了轻量级敏捷开发理念之后，以Hibernate和Spring为代表的轻量级开源框架开始成为Java世界的主流和事实标准。在2004年Sun领导的J2EE5.0标准制定当中的持久化框架标准正式以Hibernate为蓝本。
2006年，J2EE5.0标准正式发布以后，持久化框架标准Java Persistent API（简称JPA）基本上是参考Hibernate实现的，而Hibernate在3.2版本开始，已经完全兼容JPA标准。
</code></pre><p>2015年08月 v5.0.0Final<br>2011年12月 v4.0.0Final<br>2005年03月 v3.0.0Final<br>2003年06月 v2.0.0Final<br>2002年07月 v1.0.0Final</p>
<h2 id="SSH深入理解"><a href="#SSH深入理解" class="headerlink" title="SSH深入理解"></a>SSH深入理解</h2><p><a href="http://www.cnblogs.com/itao/archive/2011/08/22/2148844.html" target="_blank" rel="external">深入浅出的理解框架（Struts2、Hibernate、Spring）与 MVC 设计模式</a><br><a href="http://www.cnblogs.com/RunForLove/p/4641672.html" target="_blank" rel="external">Spring发展历程总结</a></p>
<h2 id="公司框架发展"><a href="#公司框架发展" class="headerlink" title="公司框架发展"></a>公司框架发展</h2><ul>
<li>2007 JDK1.4+Struts1.x+Hibernate2.x</li>
<li>2008 JDK1.4+Struts1.x+Spring2.x+Hibernate2.x</li>
<li>2010 JDK1.5+Struts2.x+Spring3.x+Hibernate3.3x</li>
<li>2012 JDK1.5+Struts2.1+Spring3.0+Hibernate3.3</li>
<li>2013 JDK1.7+Struts2.3.15.1（REST）+Spring3.2.2+Hibernate4.2+JPA2.0+Spring Security 3.1.3+Spring Data1.4.0+Jackson2.1.4+Sitemesh2.4.2</li>
<li>2016 JDK 1.7 + Spring MVC 4.1 + Spring 4.1 + Mybatis 3.3    + Apache Shiro 1.2 + Servlet 3.0 + Jackson2.5 + Sitemesh2.4</li>
</ul>
<h1 id="海事框架"><a href="#海事框架" class="headerlink" title="海事框架"></a>海事框架</h1><p>struts2-core-2.3.16.1.jar<br>spring.jar v2.5.2<br>hibernate3.jar v3.2.6.ga<br>easyui</p>
<h1 id="2013框架"><a href="#2013框架" class="headerlink" title="2013框架"></a>2013框架</h1><p>struts2-core-2.3.15.1.jar<br>spring-core-3.2.4.RELEASE.jar<br>hibernate-core-4.2.0.Final.jar<br>hibernate-jpa-2.0-api-1.0.1.Final.jar<br>spring-security-core-3.1.3.RELEASE.jar<br>sitemesh-2.4.2.jar<br>CUI</p>
<h1 id="海事框架-和-2013框架比较"><a href="#海事框架-和-2013框架比较" class="headerlink" title="海事框架 和 2013框架比较"></a>海事框架 和 2013框架比较</h1><h2 id="配置（struts-xml）"><a href="#配置（struts-xml）" class="headerlink" title="配置（struts.xml）"></a>配置（struts.xml）</h2><h3 id="海事框架-1"><a href="#海事框架-1" class="headerlink" title="海事框架"></a>海事框架</h3><pre><code>&lt;struts&gt;
  &lt;constant name=&quot;struts.enable.DynamicMethodInvocation&quot;
    value=&quot;false&quot; /&gt;
  &lt;constant name=&quot;struts.mapper.class&quot;    
        value=&quot;ces.jcpt.core.struts.UserDefinedActionMapper&quot; /&gt;
  &lt;constant name=&quot;struts.i18n.encoding&quot; value=&quot;UTF-8&quot;&gt;&lt;/constant&gt;
  &lt;constant name=&quot;struts.devMode&quot; value=&quot;false&quot; /&gt;
  &lt;constant name=&quot;struts.multipart.saveDir&quot; value=&quot;/upload&quot;/&gt;
  &lt;constant name=&quot;struts.multipart.maxSize&quot; value=&quot;1073741824&quot;/&gt;
  &lt;package name=&quot;jcpt-global&quot; namespace=&quot;/jcpt&quot;
    extends=&quot;struts-default&quot;&gt;
    &lt;global-results&gt;
      &lt;result name=&quot;error&quot;&gt;/common/Error.jsp&lt;/result&gt;
      &lt;result name=&quot;success&quot;&gt;/common/Success.jsp&lt;/result&gt;
      &lt;result name=&quot;json&quot;&gt;/common/JsonData.jsp&lt;/result&gt;
      &lt;result name=&quot;jsonFoAjax&quot;&gt;/common/JsonData2.jsp&lt;/result&gt;
      &lt;result name=&quot;forward&quot;&gt;${forward}&lt;/result&gt;
    &lt;/global-results&gt;
  &lt;/package&gt;

  &lt;package name=&quot;jcpt&quot; namespace=&quot;/jcpt&quot; extends=&quot;jcpt-global&quot;&gt;
    &lt;action name=&quot;*@*&quot; method=&quot;{1}&quot; class=&quot;ces.jcpt.business.action.{2}&quot;&gt;
      &lt;result name=&quot;input&quot;&gt;/common/Error.jsp&lt;/result&gt;
    &lt;/action&gt;
  &lt;/package&gt;
&lt;/struts&gt;
</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> ces.jcpt.business.action;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AnswerAction</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">addOrUpdate</span><span class="params">()</span> </span>&#123;</div><div class="line">        String forward = <span class="string">"/jcpt/website/zxsl/zxdb/answer.jsp"</span>;</div><div class="line">        setForward(forward);</div><div class="line">        <span class="keyword">return</span> <span class="string">"forward"</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>对于上面的AnswerAction来说，对应的配置为</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;package name=&quot;jcpt&quot; namespace=&quot;/jcpt&quot; extends=&quot;jcpt-global&quot;&gt;</div><div class="line">  &lt;action name=&quot;addOrUpdate@AnswerAction&quot; method=&quot;addOrUpdate&quot; class=&quot;ces.jcpt.business.action.AnswerAction&quot;&gt;</div><div class="line">    &lt;result name=&quot;input&quot;&gt;/common/Error.jsp&lt;/result&gt;</div><div class="line">  &lt;/action&gt;</div><div class="line">&lt;/package&gt;</div></pre></td></tr></table></figure>
<p>即访问URL为 <code>/jcpt/addOrUpdate@AnswerAction</code>。</p>
<p>但是在<code>UserDefinedActionMapper</code>中，覆盖了<code>DefaultActionMapper</code>，所以<code>/jcpt/admin/xxxxx/addOrUpdate@AnswerAction</code> 这样的URL也可以正常处理。</p>
<h3 id="2013采用免配置方案"><a href="#2013采用免配置方案" class="headerlink" title="2013采用免配置方案"></a>2013采用免配置方案</h3><p>struts2-convention-plugin-2.3.15.1.jar<br>convention-plugin采用”约定大于配置”的思想，实现零配置。</p>
<p><a href="https://struts.apache.org/docs/convention-plugin.html" target="_blank" rel="external">https://struts.apache.org/docs/convention-plugin.html</a><br><a href="http://javeye.iteye.com/blog/358744" target="_blank" rel="external">http://javeye.iteye.com/blog/358744</a><br><a href="http://www.blogjava.net/fancydeepin/archive/2012/10/26/struts2_convention_plugin.html" target="_blank" rel="external">http://www.blogjava.net/fancydeepin/archive/2012/10/26/struts2_convention_plugin.html</a></p>
<p>struts2-config-browser-plugin-2.3.15.1.jar<br>config-browser-plugin用于在运行时浏览项目中的载入Struts配置，包括所有action及其与jsp view的映射。<br>如果不清楚Action最终出来的url是啥，或者不清楚某个url最终会对应到哪个jsp文件，访问下面的URL即可。<br><a href="http://localhost:8080/{你的项目名称}/config-browser/" target="_blank" rel="external">http://localhost:8080/{你的项目名称}/config-browser/</a><br><a href="http://localhost:8080/{你的项目名称}/config-browser/actionNames.xhtml" target="_blank" rel="external">http://localhost:8080/{你的项目名称}/config-browser/actionNames.xhtml</a></p>
<p>convention-plugin使用后，所有Action不再继承自默认defaultStack对应的package</p>
<p>struts2-rest-plugin-2.3.15.1.jar<br>rest-plugin用于让struts2支持REST风格。<br><a href="https://www.ibm.com/developerworks/cn/java/j-lo-struts2rest/" target="_blank" rel="external">https://www.ibm.com/developerworks/cn/java/j-lo-struts2rest/</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line">&lt;struts&gt;</div><div class="line">  &lt;!--constant name=&quot;struts.devMode&quot; value=&quot;true&quot; /--&gt;</div><div class="line">  &lt;constant name=&quot;struts.mapper.alwaysSelectFullNamespace&quot; value=&quot;false&quot; /&gt;</div><div class="line">    &lt;!-- 取消Rest只有在出错或Get方式才返回数据限制 --&gt;</div><div class="line">  &lt;constant name=&quot;struts.rest.content.restrictToGET&quot; value=&quot;false&quot;/&gt;</div><div class="line"></div><div class="line">  &lt;constant name=&quot;struts.i18n.encoding&quot; value=&quot;UTF-8&quot;/&gt;</div><div class="line">    &lt;!-- Action的类名以Controller为后缀 --&gt;</div><div class="line">    &lt;constant name=&quot;struts.convention.action.suffix&quot; value=&quot;Controller&quot;/&gt;</div><div class="line">  &lt;!-- Action中没有@Action注解也创建映射 --&gt;</div><div class="line">    &lt;constant name=&quot;struts.convention.action.mapAllMatches&quot; value=&quot;true&quot;/&gt;</div><div class="line">    &lt;constant name=&quot;struts.convention.result.flatLayout&quot; value=&quot;false&quot;/&gt;</div><div class="line">    &lt;!-- Action默认REST风格，继承rest-default --&gt;</div><div class="line">    &lt;constant name=&quot;struts.convention.default.parent.package&quot; value=&quot;rest-default&quot;/&gt;</div><div class="line"></div><div class="line">  &lt;!-- Action类所在的包 --&gt;</div><div class="line">  &lt;!--constant name=&quot;struts.convention.action.packages&quot; value=&quot;com.ces.xarch.core.web&quot;/--&gt;</div><div class="line">  &lt;!-- 设置Convention插件文件协议类型 --&gt;</div><div class="line">    &lt;constant name=&quot;struts.convention.action.fileProtocols&quot; value=&quot;jar,zip,wsjar&quot; /&gt;</div><div class="line">  &lt;!-- 设置Convention插件需要搜索的jar包 --&gt;</div><div class="line">    &lt;constant name=&quot;struts.convention.action.includeJars&quot; value=&quot;.*?/xarch-\d+\.\d+\.\d+\.jar(!/)?,.*?/xarch-security-\d+\.\d+\.jar(!/)?,.*?/*-plugin-\d+\.\d+\.jar(!/)?,.*/xarch-project-*?jar(!/)?&quot; /&gt;</div><div class="line">  &lt;!-- 搜索以web为结尾的包 --&gt;</div><div class="line">    &lt;constant name=&quot;struts.convention.package.locators&quot; value=&quot;action,actions,struts,struts2,web&quot;/&gt;</div><div class="line">  &lt;!-- 不扫描的包 --&gt;</div><div class="line">  &lt;constant name=&quot;struts.convention.exclude.packages&quot; value=&quot;com.ces.xarch.core.web&quot; /&gt;</div><div class="line">    &lt;!-- 页面文件存放位置 --&gt;</div><div class="line">  &lt;constant name=&quot;struts.convention.result.path&quot; value=&quot;/WEB-INF/views&quot;/&gt;</div><div class="line">  &lt;!-- 设置不需要处理的资源，多个用“,”进行分隔 --&gt;</div><div class="line">  &lt;constant name=&quot;struts.action.excludePattern&quot; value=&quot;/services/.*,/res/.*,/views/.*&quot;/&gt;</div><div class="line"></div><div class="line">  &lt;!-- 指定允许上传的文件最大字节数。默认值是2097152(2M)，现修改为1G --&gt;</div><div class="line">    &lt;!--constant name=&quot;struts.multipart.maxSize&quot; value=&quot;1073741824&quot;/--&gt;</div><div class="line">    &lt;!-- 设置上传文件的临时文件夹,默认使用javax.servlet.context.tempdir --&gt;</div><div class="line">    &lt;!--constant name=&quot;struts.multipart.saveDir &quot; value=&quot;d:/tmp&quot; /--&gt;</div><div class="line"></div><div class="line">  &lt;!-- 注意，在最新的struts2版本中，要想在JSP中通过OGNL表达式访问静态方法，则必须配置如下constant： --&gt;</div><div class="line">  &lt;!--constant name=&quot;struts.ognl.allowStaticMethodAccess&quot; value=&quot;true&quot;/--&gt;</div><div class="line">&lt;/struts&gt;</div></pre></td></tr></table></figure>
<p>从上面的配置看，应用自动搜索以 <code>action,actions,struts,struts2,web</code> 结尾的包，查找以Controller结尾的类。<br>Convention默认去掉类名的后缀（此处为Controller）部分。然后将将每个分部的首字母转为小写，用’-’分割，来确定URL。<br>如：CaseInfoController.java -&gt; case-info, TaskController -&gt; task 。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@Namespaces</span>(&#123;</div><div class="line">	<span class="meta">@Namespace</span>(<span class="string">"/voiture"</span>)</div><div class="line">&#125;)</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">VoitureDispatchManageController</span></span>&#123;</div><div class="line">  	<span class="function"><span class="keyword">public</span> Object <span class="title">applyIndex</span><span class="params">()</span> </span>&#123;</div><div class="line">	    	<span class="keyword">return</span> <span class="keyword">new</span> DefaultHttpHeaders(<span class="string">"applyIndex"</span>).disableCaching();</div><div class="line">	  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>上面的applyIndex对应的URL即为 /voiture/voiture-dispatch-manage!applyIndex<br>映射路径为 /WEB-INF/views/voiture/voiture-dispatch-manage/applyIndex.*</p>
<pre><code>task!index         没有后缀：返回JSPX、VM、JSPF、JSP、FTL、HTML、HTM文件
task!index.json    json：返回json字符串
task!index.xml     xml：返回xml字符串
</code></pre><h2 id="默认路由"><a href="#默认路由" class="headerlink" title="默认路由"></a>默认路由</h2><table>
<thead>
<tr>
<th>HTTP方法</th>
<th>URI</th>
<th>调用Action方法</th>
<th>请求参数</th>
<th>返回资源</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>GET</td>
<td>/test</td>
<td>index</td>
<td></td>
<td>test/index.*</td>
</tr>
<tr>
<td>GET</td>
<td>/test/2</td>
<td>show</td>
<td>id=2</td>
<td>test/index-show.*</td>
<td>属性过滤</td>
</tr>
<tr>
<td>GET</td>
<td>/test/2/edit</td>
<td>edit</td>
<td>id=2</td>
<td>test/index-edit.*</td>
<td>属性过滤</td>
</tr>
<tr>
<td>GET</td>
<td>/test/new</td>
<td>editNew</td>
<td></td>
<td>test/index-new.*</td>
</tr>
<tr>
<td>POST</td>
<td>/test</td>
<td>create</td>
<td></td>
<td>success.jsp</td>
</tr>
<tr>
<td>PUT</td>
<td>/test/2</td>
<td>update</td>
<td>id=2</td>
<td>success.jsp</td>
</tr>
<tr>
<td>DELETE</td>
<td>/test/2</td>
<td>destroy</td>
<td>id=2</td>
<td>success.jsp</td>
</tr>
<tr>
<td>POST</td>
<td>/test!search</td>
<td>search</td>
<td></td>
<td>test/index-list.*</td>
<td>属性过滤,数据模型,    查询参数</td>
</tr>
<tr>
<td>POST</td>
<td>/test!coflow</td>
<td>coflow</td>
<td></td>
<td>test/index-coflow.*</td>
<td>属性过滤,工作流参数</td>
</tr>
<tr>
<td>POST</td>
<td>/test!coflowList</td>
<td>coflowList</td>
<td></td>
<td>test/index-coflow-list.*</td>
<td>属性过滤,工作流参数,    数据模型,    查询参数</td>
</tr>
<tr>
<td>POST</td>
<td>/test!coflowCount</td>
<td>coflowCount</td>
<td></td>
<td></td>
<td>工作流参数</td>
</tr>
</tbody>
</table>
<h2 id="分层"><a href="#分层" class="headerlink" title="分层"></a>分层</h2><h3 id="海事框架-2"><a href="#海事框架-2" class="headerlink" title="海事框架"></a>海事框架</h3><p>Action  &lt;–&gt;  Bo  &lt;–&gt; HibernateDao  &lt;–&gt; Bean</p>
<p>DAO层缩减为HibernateDao，Bo层通过Hibernate的DetachedCriteria进行复杂查询。<br>Bean对应单表。<br>Action中通过</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">App.getHibernateTransactionTemplate().execute(<span class="keyword">new</span> TransactionCallback() &#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> Object <span class="title">doInTransaction</span><span class="params">(TransactionStatus ts)</span> </span>&#123;</div><div class="line">		<span class="keyword">try</span> &#123;</div><div class="line">			trans.run();</div><div class="line">		&#125; <span class="keyword">catch</span> (Throwable e) &#123;</div><div class="line">			ts.setRollbackOnly();</div><div class="line">			trans.setTransactionException(<span class="keyword">new</span> TransactionException(e));</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">	&#125;</div><div class="line">&#125;);</div><div class="line">TransactionException e = trans.getTransctionException();</div><div class="line"><span class="keyword">if</span> (e != <span class="keyword">null</span>)</div><div class="line">	<span class="keyword">throw</span> e;</div></pre></td></tr></table></figure>
<pre><code>&lt;!--hiberate事务管理器--&gt;
&lt;bean id=&quot;hibernateTransactionManager&quot; class=&quot;org.springframework.orm.hibernate3.HibernateTransactionManager&quot;&gt;
  &lt;property name=&quot;sessionFactory&quot;&gt;
    &lt;ref bean=&quot;sessionFactory&quot; /&gt;
  &lt;/property&gt;
&lt;/bean&gt;
&lt;!-- hiberate事务模板--&gt;
&lt;bean id=&quot;hibernateTransactionTemplate&quot; class=&quot;org.springframework.transaction.support.TransactionTemplate&quot;&gt;
  &lt;property name=&quot;transactionManager&quot;&gt;
    &lt;ref bean=&quot;hibernateTransactionManager&quot; /&gt;
  &lt;/property&gt;
&lt;/bean&gt;
</code></pre><p>的方式进行事务处理。</p>
<p><strong>Spring的编程式事务管理</strong></p>
<h3 id="2013框架-1"><a href="#2013框架-1" class="headerlink" title="2013框架"></a>2013框架</h3><p>Controller  &lt;–&gt;  Service  &lt;–&gt; Dao  &lt;–&gt;  Entity</p>
<p>Entity对应单表。<br>Dao使用JPA方式，定义接口，JPA自动实现，复杂查询采用nativeQuery方式。<br>Service层中通过@Transactional 标签处理事务。多表联合查询使用JdbcTemplate或者EntityManager实现。<br>Cntroller层调用Service完成业务处理。</p>
<p><strong>Spring的声明式事务管理</strong></p>
<h2 id="ORM（Hibernate-VS-JPA）"><a href="#ORM（Hibernate-VS-JPA）" class="headerlink" title="ORM（Hibernate VS JPA）"></a>ORM（Hibernate VS JPA）</h2><h3 id="海事框架采用Hibernate"><a href="#海事框架采用Hibernate" class="headerlink" title="海事框架采用Hibernate"></a>海事框架采用Hibernate</h3><p>支持使用Hibernate DetachedCriteria进行复杂查询。</p>
<h3 id="2013框架采用HibernateJPA"><a href="#2013框架采用HibernateJPA" class="headerlink" title="2013框架采用HibernateJPA"></a>2013框架采用HibernateJPA</h3><h2 id="事务"><a href="#事务" class="headerlink" title="事务"></a>事务</h2><p>海事框架采用Spring的编程式事务管理<br>2013框架采用Spring的声明式事务管理</p>
<h1 id="2013框架特色"><a href="#2013框架特色" class="headerlink" title="2013框架特色"></a>2013框架特色</h1><h2 id="页面参数"><a href="#页面参数" class="headerlink" title="页面参数"></a>页面参数</h2><p>查询数据主要绑定在数据模型中，每个查询设定其查询名称为Q<em>查询方式</em>查询属性。分页数据以P_形式进行设定；</p>
<table>
<thead>
<tr>
<th>功能</th>
<th>参数名</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>查询</td>
<td>Q_EQ_属性名</td>
<td>等价于SQL中的“=”</td>
</tr>
<tr>
<td></td>
<td>Q_LIKE_属性名</td>
<td>等价于SQL中的“like”</td>
</tr>
<tr>
<td></td>
<td>Q_GT_属性名</td>
<td>等价于SQL中的“&gt;”</td>
</tr>
<tr>
<td></td>
<td>Q_LT_属性名</td>
<td>等价于SQL中的“&lt;”</td>
</tr>
<tr>
<td></td>
<td>Q_GTE_属性名</td>
<td>等价于SQL中的“&gt;=”</td>
</tr>
<tr>
<td></td>
<td>Q_LTE_属性名</td>
<td>等价于SQL中的“&lt;=”</td>
</tr>
<tr>
<td></td>
<td>Q_NULL_属性名</td>
<td>等价于SQL中的“is null”</td>
</tr>
<tr>
<td></td>
<td>Q_BLANK_属性名</td>
<td>等价于SQL中的“= ‘’”</td>
</tr>
<tr>
<td></td>
<td>Q_NNULL_属性名</td>
<td>等价于SQL中的“is not null”</td>
</tr>
<tr>
<td></td>
<td>Q_NBLANK_属性名</td>
<td>等价于SQL中的“!= ‘’”</td>
</tr>
<tr>
<td>分页</td>
<td>P_orders</td>
<td>排序参数名称（排序字段,[排序字段,排序方式],[排序字段]）</td>
</tr>
<tr>
<td></td>
<td>P_pageNumber</td>
<td>当前页号参数名称（从1开始计数）</td>
</tr>
<tr>
<td></td>
<td>P_pagesize</td>
<td>每页记录数参数名称</td>
</tr>
<tr>
<td>属性过滤</td>
<td>F[_过滤器ID]_in</td>
<td>设定要获取的数据字段及其顺序；过滤器ID，以实体中JsonFilter注解中的名称对应</td>
</tr>
<tr>
<td></td>
<td>F[_过滤器ID]_out</td>
<td>设定要排除的数据字段</td>
</tr>
<tr>
<td>数据处理</td>
<td>E_model_name</td>
<td>数据模型模版参数名称</td>
</tr>
<tr>
<td></td>
<td>E_entity_class</td>
<td>实体类参数名称</td>
</tr>
<tr>
<td>工作流参数</td>
<td>CF_rd</td>
<td>刷新关联数据</td>
</tr>
<tr>
<td></td>
<td>op</td>
<td>操作类型</td>
</tr>
<tr>
<td></td>
<td>。。。</td>
<td>更多参数请查看CoflowEntity实体</td>
</tr>
</tbody>
</table>
<p>页面参数在调用默认search方法时，会自动调用processSearch(); 达到按照上面说明进行数据查询。<br>另外，可以通过向Controller的initParameters里面添加页面参数的形式，添加一些特殊的查询条件。<br>这时最前面的Q_不需要。</p>
<pre><code>this.initParameters.put(&quot;EQ_unitId&quot;, unitId);
</code></pre><h2 id="Spring-security集成"><a href="#Spring-security集成" class="headerlink" title="Spring security集成"></a>Spring security集成</h2><p>Spring security是一个网站安全框架。和Apache Shiro类似，可以把网站安全相关内容从业务代码中分离出来。开发时先进行业务开发，然后加入权限标签；或者分别由不同团队负责权限以及业务等。非常便于开发和后期维护。</p>
<p><a href="https://www.ibm.com/developerworks/cn/java/j-lo-springsecurity/" target="_blank" rel="external">使用 Spring Security 保护 Web 应用的安全</a><br><a href="https://vincentmi.gitbooks.io/spring-security-reference-zh/content/1_introduction.html" target="_blank" rel="external">Spring Security参考手册</a></p>
<h2 id="Sitemesh应用"><a href="#Sitemesh应用" class="headerlink" title="Sitemesh应用"></a>Sitemesh应用</h2><p>应用Sitemesh进行页面布局。</p>
<pre><code>SiteMesh is a web-page layout system that can be used to abstract common look and feel from the functionality of a web-application and to assemble large webpages from smaller components. Pages and components can have meta-data extracted from them (such as body, title and meta-tags) which can be used by decorators (skins) that are applied.
</code></pre><ul>
<li>是一个Web页面布局、装饰以及与现有Web应用集成的框架。有助于在由大量页面构成的项目中创建一致的页面布局和外观、一致的导航条、一致的布局方案等。</li>
<li>截取对Web服务器的任何静态或动态页面的请求，解析页面，从内容中获得属性和数据，生成对原页面进行修改后的最终页面——基于装饰模式</li>
<li>此外可以以面板（Panel）的形式，将完整的HTML页面包含在另一个页面中——类似于服务器端包含。使用此功能，可以非常快速和有效的创建门户网站类型的Web站点。这基于知名的组合模式。</li>
</ul>
<p>具体应用为：<br>修改 WEB-INF/decorators.xml，指定合适的装饰页面，配置不需要被装饰的路径。然后开发对应的业务页面时可以暂时忘记有装饰页面这件事情，专注于自己的业务即可。</p>
<h1 id="使用2013框架建立项目步骤"><a href="#使用2013框架建立项目步骤" class="headerlink" title="使用2013框架建立项目步骤"></a>使用2013框架建立项目步骤</h1><ol>
<li>复制2013框架示例项目到新的项目，更改项目名称</li>
<li>修改web.xml 的 webAppRootKey</li>
<li>删掉不要的代码</li>
<li>修改数据库配置文件 conf/db</li>
<li>修改装饰页面</li>
<li>修改登录页面</li>
<li>根据表定义Entity</li>
<li>建立DAO、Service、Controller</li>
<li>建立jsp文件</li>
<li>测试是否正常显示</li>
</ol>
  
	</div>
		<footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/SSH/">SSH</a>
  </div>

</div>



	<div class="article-share" id="share">
	
	  <div data-url="https://lvshifu.github.io/2017/07/28/SSH/ssh-note1/" data-title="SSH介绍 | lvshifu" data-tsina="" class="share clearfix">
	  </div>
	
	</div>


</footer>

   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2017/08/29/Tools/freessl-note1/" title="Free SSL证书Let’s Encrypt">
  <strong>上一篇：</strong><br/>
  <span>
  Free SSL证书Let’s Encrypt</span>
</a>
</div>


<div class="next">
<a href="/2017/07/17/SSH/spring-note1/"  title="Spring介绍">
 <strong>下一篇：</strong><br/> 
 <span>Spring介绍
</span>
</a>
</div>

</nav>

	

<section id="comments" class="comment">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>


</div>  
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">文章目录</strong>
 
 <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#SSH是什么"><span class="toc-number">1.</span> <span class="toc-text">SSH是什么</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#标准SSH框架"><span class="toc-number">2.</span> <span class="toc-text">标准SSH框架</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Struts"><span class="toc-number">2.1.</span> <span class="toc-text">Struts</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Spring"><span class="toc-number">2.2.</span> <span class="toc-text">Spring</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Hibernate"><span class="toc-number">2.3.</span> <span class="toc-text">Hibernate</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SSH深入理解"><span class="toc-number">2.4.</span> <span class="toc-text">SSH深入理解</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#公司框架发展"><span class="toc-number">2.5.</span> <span class="toc-text">公司框架发展</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#海事框架"><span class="toc-number">3.</span> <span class="toc-text">海事框架</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2013框架"><span class="toc-number">4.</span> <span class="toc-text">2013框架</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#海事框架-和-2013框架比较"><span class="toc-number">5.</span> <span class="toc-text">海事框架 和 2013框架比较</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#配置（struts-xml）"><span class="toc-number">5.1.</span> <span class="toc-text">配置（struts.xml）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#海事框架-1"><span class="toc-number">5.1.1.</span> <span class="toc-text">海事框架</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2013采用免配置方案"><span class="toc-number">5.1.2.</span> <span class="toc-text">2013采用免配置方案</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#默认路由"><span class="toc-number">5.2.</span> <span class="toc-text">默认路由</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#分层"><span class="toc-number">5.3.</span> <span class="toc-text">分层</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#海事框架-2"><span class="toc-number">5.3.1.</span> <span class="toc-text">海事框架</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2013框架-1"><span class="toc-number">5.3.2.</span> <span class="toc-text">2013框架</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ORM（Hibernate-VS-JPA）"><span class="toc-number">5.4.</span> <span class="toc-text">ORM（Hibernate VS JPA）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#海事框架采用Hibernate"><span class="toc-number">5.4.1.</span> <span class="toc-text">海事框架采用Hibernate</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2013框架采用HibernateJPA"><span class="toc-number">5.4.2.</span> <span class="toc-text">2013框架采用HibernateJPA</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#事务"><span class="toc-number">5.5.</span> <span class="toc-text">事务</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2013框架特色"><span class="toc-number">6.</span> <span class="toc-text">2013框架特色</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#页面参数"><span class="toc-number">6.1.</span> <span class="toc-text">页面参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Spring-security集成"><span class="toc-number">6.2.</span> <span class="toc-text">Spring security集成</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Sitemesh应用"><span class="toc-number">6.3.</span> <span class="toc-text">Sitemesh应用</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#使用2013框架建立项目步骤"><span class="toc-number">7.</span> <span class="toc-text">使用2013框架建立项目步骤</span></a></li></ol>
 
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  


  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/Java/" title="Java">Java<sup>14</sup></a></li>
			
		
			
				<li><a href="/tags/日语/" title="日语">日语<sup>9</sup></a></li>
			
		
			
				<li><a href="/tags/其他/" title="其他">其他<sup>9</sup></a></li>
			
		
			
				<li><a href="/tags/科学上网/" title="科学上网">科学上网<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/工具/" title="工具">工具<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/Ionic/" title="Ionic">Ionic<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/WEB开发/" title="WEB开发">WEB开发<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/SSH-Tunnel/" title="SSH Tunnel">SSH Tunnel<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/dozer/" title="dozer">dozer<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/IDEA/" title="IDEA">IDEA<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/JRebel/" title="JRebel">JRebel<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/Apache/" title="Apache">Apache<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/Nginx/" title="Nginx">Nginx<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/Solr/" title="Solr">Solr<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/Tomcat/" title="Tomcat">Tomcat<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/SSL/" title="SSL">SSL<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/大数据/" title="大数据">大数据<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/BigData/" title="BigData">BigData<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/Excel/" title="Excel">Excel<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/Shadowsocks/" title="Shadowsocks">Shadowsocks<sup>1</sup></a></li>
			
		
		</ul>
</div>


  
  <div class="tagcloudlist">
    <p class="asidetitle">标签云</p>
    <div class="tagcloudlist clearfix">
       <a href="/tags/Apache/" style="font-size: 10px;">Apache</a> <a href="/tags/BigData/" style="font-size: 10px;">BigData</a> <a href="/tags/Coding-Rule/" style="font-size: 10px;">Coding Rule</a> <a href="/tags/Excel/" style="font-size: 10px;">Excel</a> <a href="/tags/Guava/" style="font-size: 10px;">Guava</a> <a href="/tags/Hexo/" style="font-size: 10px;">Hexo</a> <a href="/tags/IDEA/" style="font-size: 10px;">IDEA</a> <a href="/tags/Ionic/" style="font-size: 12px;">Ionic</a> <a href="/tags/JRebel/" style="font-size: 10px;">JRebel</a> <a href="/tags/Java/" style="font-size: 20px;">Java</a> <a href="/tags/Lantern/" style="font-size: 10px;">Lantern</a> <a href="/tags/Nginx/" style="font-size: 10px;">Nginx</a> <a href="/tags/Node/" style="font-size: 10px;">Node</a> <a href="/tags/Openshift/" style="font-size: 10px;">Openshift</a> <a href="/tags/SSH/" style="font-size: 10px;">SSH</a> <a href="/tags/SSH-Tunnel/" style="font-size: 12px;">SSH Tunnel</a> <a href="/tags/SSL/" style="font-size: 10px;">SSL</a> <a href="/tags/Shadowsocks/" style="font-size: 10px;">Shadowsocks</a> <a href="/tags/Solr/" style="font-size: 10px;">Solr</a> <a href="/tags/Spring/" style="font-size: 10px;">Spring</a> <a href="/tags/Tomcat/" style="font-size: 10px;">Tomcat</a> <a href="/tags/WEB开发/" style="font-size: 12px;">WEB开发</a> <a href="/tags/dozer/" style="font-size: 10px;">dozer</a> <a href="/tags/plink/" style="font-size: 10px;">plink</a> <a href="/tags/tor/" style="font-size: 10px;">tor</a> <a href="/tags/其他/" style="font-size: 18px;">其他</a> <a href="/tags/大数据/" style="font-size: 10px;">大数据</a> <a href="/tags/工具/" style="font-size: 14px;">工具</a> <a href="/tags/影梭/" style="font-size: 10px;">影梭</a> <a href="/tags/日语/" style="font-size: 18px;">日语</a> <a href="/tags/科学上网/" style="font-size: 16px;">科学上网</a> <a href="/tags/蓝灯/" style="font-size: 10px;">蓝灯</a>
    </div>
  </div>


  
  <div class="archiveslist">
    <p class="asidetitle"><a href="/archives">归档</a></p>
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">十月 2017</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">九月 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">八月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">七月 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">六月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">五月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">四月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">三月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">二月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">一月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">十月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">九月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">八月 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/07/">七月 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/08/">八月 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/11/">十一月 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/05/">五月 2011</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/02/">二月 2011</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/01/">一月 2011</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/03/">三月 2010</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/10/">十月 2009</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/04/">四月 2009</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/01/">一月 2009</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/10/">十月 2008</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/09/">九月 2008</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/09/">九月 2007</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/06/">六月 2007</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2006/10/">十月 2006</a><span class="archive-list-count">4</span></li></ul>
  </div>


  <div class="linkslist">
  <p class="asidetitle">友情链接</p>
    <ul>
        
          <li>
            
            	<a href="https://ricardo-cheng.github.io" target="_blank" title="Cheng&#39;s Blog">Cheng&#39;s Blog</a>
            
          </li>
        
          <li>
            
            	<a href="http://wuchong.me" target="_blank" title="Jark&#39;s Blog">Jark&#39;s Blog</a>
            
          </li>
        
    </ul>
</div>

  


</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	
	<section class="info">
		<p> Hello ,I&#39;m lvshifu. <br/>
			</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		
		
		
		
		
		
		
		
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2017 
		
		<a href="/about" target="_blank" title="lvshifu">lvshifu</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  c.click(function(){
    ta.css('display', 'block').addClass('fadeIn');
  });
  o.click(function(){
    ta.css('display', 'none');
  });
  $(window).scroll(function(){
    ta.css("top",Math.max(140,320-$(this).scrollTop()));
  });
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina'),
      description = $this.attr('description');
  var html = [
  '<div class="hoverqrcode clearfix"></div>',
  '<a class="overlay" id="qrcode"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="微信"></a>',
  '<a href="http://widget.renren.com/dialog/share?resourceUrl=' + encodedUrl + '&srcUrl=' + encodedUrl + '&title=' + title +'" class="article-share-renren" target="_blank" title="人人"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="微博"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);

  $('.hoverqrcode').hide();

  var myWidth = 0;
  function updatehoverqrcode(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
    var qrsize = myWidth > 1024 ? 200:100;
    var options = {render: 'image', size: qrsize, fill: '#2ca6cb', text: url, radius: 0.5, quiet: 1};
    var p = $('.article-share-qrcode').position();
    $('.hoverqrcode').empty().css('width', qrsize).css('height', qrsize)
                          .css('left', p.left-qrsize/2+20).css('top', p.top-qrsize-10)
                          .qrcode(options);
  };
  $(window).resize(function(){
    $('.hoverqrcode').hide();
  });
  $('.article-share-qrcode').click(function(){
    updatehoverqrcode();
    $('.hoverqrcode').toggle();
  });
  $('.article-share-qrcode').hover(function(){}, function(){
      $('.hoverqrcode').hide();
  });
});   
</script>




<script type="text/javascript">

var disqus_shortname = 'lvshifu-github-io';

(function(){
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
}());
(function(){
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
}());
</script>






<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->





<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="返回顶部"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
</html>
